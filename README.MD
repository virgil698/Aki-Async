<div align="center">

# ğŸš€ AkiAsync

**LeavesæœåŠ¡ç«¯ä¸“ç”¨çš„é›¶å»¶è¿Ÿå¼‚æ­¥AIä¼˜åŒ–æ’ä»¶**

[![License](https://img.shields.io/badge/License-GPL--3.0-blue.svg)](LICENSE)
[![Leaves](https://img.shields.io/badge/Leaves-1.21.8+-green.svg)](https://github.com/LeavesMC/Leaves)
[![Java](https://img.shields.io/badge/Java-21+-orange.svg)](https://www.oracle.com/java/)
[![Version](https://img.shields.io/badge/version-2.0.0--Community-orange.svg)](https://github.com/virgil698/Aki-Async/releases)

**ğŸ‰ Community Editionï¼ˆç¤¾åŒºç‰ˆï¼‰**

[å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [é…ç½®è¯´æ˜](#ï¸-é…ç½®è¯´æ˜) â€¢ [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)

</div>

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ“Š **æ€§èƒ½è¡¨ç°**

- **MSPTå¤§å¹…ä¼˜åŒ–** - å•å®ä½“æ•ˆç‡æå‡æœ€é«˜è¾¾88%
- **TPSç¨³å®š20.00** - æ— æ³¢åŠ¨ï¼Œæ— å¡é¡¿
- **å¤šæ ¸å‡è¡¡** - CPUå ç”¨åˆ†æ•£åˆ°å¤šä¸ªæ ¸å¿ƒ
- **é›¶å»¶è¿ŸAI** - åŒtickå†…å®Œæˆï¼Œå®ä½“è¡Œä¸ºå®Œå…¨ä¸€è‡´

### ğŸ¯ **æ”¯æŒçš„ç”Ÿç‰©ï¼ˆ65ç§ï¼‰**

<table>
<tr>
<td width="25%">

**ä¸“ç”¨ä¼˜åŒ–**
- æ‘æ°‘
- çŒªçµ/çŒªçµè›®å…µ
- åŠ«æ è€…å®¶æ—
- å”¤é­”è€…
- çƒˆç„°äºº
- å®ˆå«è€…
- å¥³å·«

</td>
<td width="75%">

**ç»Ÿä¸€ä¼˜åŒ–ï¼ˆ55ç§é€šç”¨æ¨¡æ¿ï¼‰**

**æ”»å‡»å‹**ï¼šéª·é«…ã€åƒµå°¸ã€è‹¦åŠ›æ€•ã€èœ˜è››ã€æœ«å½±äººã€å¹»ç¿¼ã€æººå°¸ã€ç–£çŒªå…½ã€åƒµå°¸ç–£çŒªå…½ã€æµæµªè€…ã€å°¸å£³ã€åƒµå°¸æ‘æ°‘ã€æ½œå½±è´ã€è ¹è™«ã€æœ«å½±è¨ã€æ´ç©´èœ˜è››

**é˜²å¾¡å‹**ï¼šé“å‚€å„¡ã€é›ªå‚€å„¡

**è¢«åŠ¨å‹**ï¼šçŒªã€ç‰›ã€ç¾Šã€é¸¡ã€å…”å­ã€è™è ã€ç‹ç‹¸ã€ç‚½è¶³å…½ã€é’è›™ã€éª†é©¼ã€å±±ç¾Šã€å“è‡

**æ°´ç”Ÿå‹**ï¼šæµ·è±šã€é±¿é±¼ã€å‘å…‰é±¿é±¼ã€æµ·é¾Ÿã€æ²³è±šã€çƒ­å¸¦é±¼ã€é³•é±¼ã€é²‘é±¼ã€ç¾è¥¿èˆ

**é©¯æœ/ä¸­ç«‹å‹**ï¼šç‹¼ã€çŒ«ã€é©¬ã€é©´ã€éª¡ã€ç¾Šé©¼ã€é¹¦é¹‰ã€åŒ—æç†Šã€ç†ŠçŒ«ã€èœœèœ‚ã€è±¹çŒ«ã€è¡Œå•†ç¾Šé©¼

</td>
</tr>
</table>

### ğŸ”§ **ä¼˜åŒ–æ¨¡å—ï¼ˆ24ä¸ªï¼‰**

- âš¡ **å¼‚æ­¥AIä¼˜åŒ–**ï¼ˆ11ä¸ªï¼‰- æ‘æ°‘ã€çŒªçµã€åŠ«æ è€…ã€å”¤é­”è€…ã€çƒˆç„°äººã€å®ˆå«è€…ã€å¥³å·«ã€é€šç”¨æ¨¡æ¿ + è¾…åŠ©
- ğŸ¯ **å¹¶è¡Œä¼˜åŒ–**ï¼ˆ3ä¸ªï¼‰- å®ä½“è¿½è¸ªã€å®ä½“Tickã€ç”Ÿç‰©ç”Ÿæˆ
- ğŸ’¡ **å…‰ç…§ä¼˜åŒ–**ï¼ˆ2ä¸ªï¼‰- Starlightç®—æ³•ã€å¤©ç©ºå…‰ç¼“å­˜
- ğŸ’¥ **æ€§èƒ½ä¼˜åŒ–**ï¼ˆ3ä¸ªï¼‰- æ¨æŒ¤ã€æŸ¥æ‰¾ç¼“å­˜ã€ç¢°æ’æ£€æµ‹
- ğŸ—„ï¸ **å†…å­˜ä¼˜åŒ–**ï¼ˆ3ä¸ªï¼‰- å¯¹è±¡æ± ã€è°“è¯ç¼“å­˜ã€åˆ—è¡¨é¢„åˆ†é…
- ğŸ”§ **å…¶ä»–ä¼˜åŒ–**ï¼ˆ2ä¸ªï¼‰- AIé™é¢‘ã€å¯»è·¯é¢„ç®—

---

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

| ç»„ä»¶ | è¦æ±‚ |
|------|------|
| **æœåŠ¡ç«¯** | [Leaves](https://github.com/LeavesMC/Leaves) 1.21.8+ |
| **JDK** | Java 21+ |
| **å†…å­˜** | æ¨è4GB+ |
| **CPU** | æ¨è4æ ¸å¿ƒ+ï¼ˆå¤šçº¿ç¨‹ä¼˜åŒ–ï¼‰|

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ä¸‹è½½æ’ä»¶

ä» [Releases](https://github.com/virgil698/Aki-Async/releases) ä¸‹è½½æœ€æ–°ç‰ˆæœ¬

### 2. å®‰è£…æ’ä»¶

```bash
# å°†JARæ–‡ä»¶æ”¾å…¥pluginsæ–‡ä»¶å¤¹
cp Aki-Async-2.0.0.jar /path/to/server/plugins/
```

### 3. å¯ç”¨Mixinæ”¯æŒ

**ä¿®æ”¹å¯åŠ¨è„šæœ¬ï¼Œæ·»åŠ ä»¥ä¸‹å‚æ•°ï¼š**

```bash
java -Dleavesclip.enable.mixin=true -Xms4G -Xmx4G -jar leaves.jar
```

âš ï¸ **é‡è¦**ï¼šå¿…é¡»æ·»åŠ  `-Dleavesclip.enable.mixin=true` å‚æ•°ï¼Œå¦åˆ™æ’ä»¶æ— æ³•å·¥ä½œ

### 4. å¯åŠ¨æœåŠ¡å™¨

é¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶ï¼š`plugins/AkiAsync/config.yml`

---

## âš™ï¸ é…ç½®è¯´æ˜

é…ç½®æ–‡ä»¶ä½äº `plugins/AkiAsync/config.yml`

<details>
<summary><b>ğŸ“– å®Œæ•´é…ç½®é¡¹ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</b></summary>

```yaml
# å¼‚æ­¥å®ä½“è¿½è¸ªå™¨
entity-tracker:
  enabled: true
  thread-pool-size: 4          # çº¿ç¨‹æ± å¤§å°
  update-interval-ticks: 1     # æ›´æ–°é—´éš”
  max-queue-size: 1000         # æœ€å¤§é˜Ÿåˆ—
  batch-size: 50               # æ‰¹é‡å¤§å°

# å¼‚æ­¥ç”Ÿç‰©ç”Ÿæˆ
mob-spawning:
  enabled: true
  spawner-optimization: true   # åˆ·æ€ªç¬¼ä¼˜åŒ–

# å®ä½“å¯†åº¦æ§åˆ¶
density:
  max-per-chunk: 80           # å•åŒºå—æœ€å¤§å®ä½“æ•°

# å¯»è·¯é¢„ç®—
pathfinding:
  tick-budget: 0              # æ¯tické¢„ç®—ï¼ˆ0=ç¦ç”¨ï¼‰

# AIé™é¢‘
brain:
  throttle: true
  throttle-interval: 10       # é™é¢‘é—´éš”ï¼ˆtickï¼‰

# ========== é›¶å»¶è¿Ÿå¼‚æ­¥AI ==========
async-ai:
  timeout-microseconds: 100   # å…¨å±€è¶…æ—¶ï¼ˆå¾®ç§’ï¼‰
  mode: simple                # æ‰§è¡Œæ¨¡å¼
  
  # æ‘æ°‘ä¼˜åŒ–
  villager-optimization:
    enabled: false            # é»˜è®¤å…³é—­
    use-poi-snapshot: true
  
  # çŒªçµä¼˜åŒ–
  piglin-optimization:
    enabled: false
    use-poi-snapshot: false
    look-distance: 16
    barter-distance: 16
  
  # åŠ«æ è€…å®¶æ—ä¼˜åŒ–
  pillager-family-optimization:
    enabled: false
    use-poi-snapshot: false
  
  # å”¤é­”è€…ä¼˜åŒ–
  evoker-optimization:
    enabled: false
  
  # çƒˆç„°äººä¼˜åŒ–
  blaze-optimization:
    enabled: false
  
  # å®ˆå«è€…ä¼˜åŒ–ï¼ˆå«è¿œå¤å®ˆå«è€…ï¼‰
  guardian-optimization:
    enabled: false
  
  # å¥³å·«ä¼˜åŒ–
  witch-optimization:
    enabled: false
  
  # é€šç”¨AIä¼˜åŒ–ï¼ˆ55ç§ç”Ÿç‰©ï¼‰
  universal-ai-optimization:
    enabled: false
    entities:                 # å®ä½“åˆ—è¡¨ï¼ˆè§config.ymlï¼‰
      - "minecraft:skeleton"
      - "minecraft:zombie"
      - "minecraft:pig"
      # ... å…±55ç§
    tick-interval: 3
    timeout-us: 100
    control-goal: true
    batch-size: 8

# å¹¶è¡Œå®ä½“Tick
entity-tick-parallel:
  enabled: true
  threads: 6                  # çº¿ç¨‹æ•°
  min-entities: 50           # æœ€å°å®ä½“é˜ˆå€¼
  batch-size: 8              # æ‰¹é‡å¤§å°

# æ€§èƒ½ä¼˜åŒ–å¥—ä»¶
servercore-optimizations:
  push-optimization:
    enabled: true
    interval: 2
  entity-lookup-cache:
    enabled: true
    duration-ms: 50
  collision-optimization:
    enabled: true
    min-movement: 0.001

# å†…å­˜ä¼˜åŒ–å¥—ä»¶
memory-optimizations:
  predicate-cache:
    enabled: true
  blockpos-pool:
    enabled: true
  list-prealloc:
    enabled: true
    default-capacity: 32

# å…‰ç…§ä¼˜åŒ–å¥—ä»¶
lighting-optimizations:
  async-lighting:
    enabled: true
    thread-pool-size: 2
    batch-threshold: 16
  propagation-queue:
    use-layered-queue: true
    max-propagation-distance: 15
  skylight-cache:
    enabled: true
    cache-duration-ms: 100
  advanced:
    enable-deduplication: true
    dynamic-batch-adjustment: true

# æ€§èƒ½ç›‘æ§
performance:
  debug-logging: false
  enable-metrics: true
```

</details>

### å¿«é€Ÿé…ç½®

<details>
<summary><b>å°å‹æœåŠ¡å™¨ï¼ˆ1-10äººï¼‰</b></summary>

```yaml
entity-tick-parallel:
  threads: 4

async-ai:
  villager-optimization:
    enabled: true  # æ¨èå¼€å¯
```

</details>

<details>
<summary><b>ä¸­å‹æœåŠ¡å™¨ï¼ˆ10-50äººï¼‰</b></summary>

```yaml
entity-tick-parallel:
  threads: 6-8

async-ai:
  villager-optimization:
    enabled: true
  piglin-optimization:
    enabled: true
  universal-ai-optimization:
    enabled: true  # å¼€å¯é€šç”¨ä¼˜åŒ–
```

</details>

<details>
<summary><b>å¤§å‹æœåŠ¡å™¨ï¼ˆ50+äººï¼‰</b></summary>

```yaml
entity-tick-parallel:
  threads: 8-12
  batch-size: 16

async-ai:
  villager-optimization:
    enabled: true
  piglin-optimization:
    enabled: true
  pillager-family-optimization:
    enabled: true
  evoker-optimization:
    enabled: true
  blaze-optimization:
    enabled: true
  guardian-optimization:
    enabled: true
  universal-ai-optimization:
    enabled: true  # å…¨éƒ¨å¼€å¯
```

</details>

---

## ğŸ”§ å¸¸è§é—®é¢˜

<details>
<summary><b>Q: æ’ä»¶æ— æ³•åŠ è½½ï¼Ÿ</b></summary>

æ£€æŸ¥å¯åŠ¨å‚æ•°æ˜¯å¦åŒ…å« `-Dleavesclip.enable.mixin=true`

</details>

<details>
<summary><b>Q: MSPTæ²¡æœ‰æ˜æ˜¾æ”¹å–„ï¼Ÿ</b></summary>

1. ç¡®è®¤å®ä½“æ•°é‡ > 50ï¼ˆå°‘äº50ä¸ä¼šå¯ç”¨å¹¶è¡Œä¼˜åŒ–ï¼‰
2. é€æ­¥å¼€å¯å¼‚æ­¥AIä¼˜åŒ–ï¼ˆä»æ‘æ°‘å¼€å§‹ï¼‰
3. ä½¿ç”¨SparkæŸ¥çœ‹è¯¦ç»†æ€§èƒ½

</details>

<details>
<summary><b>Q: å¦‚ä½•éªŒè¯ä¼˜åŒ–æ•ˆæœï¼Ÿ</b></summary>

ä½¿ç”¨ [Spark](https://spark.lucko.me/) æ€§èƒ½åˆ†æå·¥å…·ï¼š
```
/spark profiler start --timeout 5m
# ç­‰å¾…5åˆ†é’Ÿ
/spark profiler stop
```

è§‚å¯ŸMSPTå˜åŒ–å’ŒCompletableFutureå æ¯”

</details>

<details>
<summary><b>Q: æ’ä»¶å…¼å®¹æ€§ï¼Ÿ</b></summary>

âœ… ä¸å¤§éƒ¨åˆ†æ’ä»¶å…¼å®¹  
âš ï¸ å¯èƒ½ä¸å…¶ä»–Mixinæ’ä»¶å†²çªï¼ˆå¦‚ISeeYouï¼‰  
ğŸ“§ é‡åˆ°å†²çªè¯·æäº¤Issue

</details>

<details>
<summary><b>Q: æ¨èçš„å¼€å¯é¡ºåºï¼Ÿ</b></summary>

å»ºè®®é€æ­¥å¼€å¯ï¼Œè§‚å¯Ÿæ•ˆæœï¼š
1. å…ˆå¼€å¯ `entity-tick-parallel`ï¼ˆå¹¶è¡Œå®ä½“Tickï¼‰
2. å†å¼€å¯ `villager-optimization`ï¼ˆæ‘æ°‘ä¼˜åŒ–ï¼‰
3. æœ€åå¼€å¯ `universal-ai-optimization`ï¼ˆé€šç”¨ä¼˜åŒ–ï¼‰

æ¯æ¬¡å¼€å¯åè¿è¡Œä¸€æ®µæ—¶é—´ï¼Œç¡®è®¤æ— é—®é¢˜å†å¼€å¯ä¸‹ä¸€ä¸ªã€‚

</details>

---

## ğŸ› ï¸ å¼€å‘æ„å»º

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/virgil698/Aki-Async.git
cd Aki-Async

# æ„å»º
./gradlew clean build

# äº§ç‰©ä½äº
build/libs/Aki-Async-2.0.0-SNAPSHOT.jar
```

---

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ [GPL-3.0 License](LICENSE) å¼€æºåè®®

### ğŸ†“ AkiAsync Community Editionï¼ˆç¤¾åŒºç‰ˆï¼‰

è¿™æ˜¯**å®Œå…¨å…è´¹çš„ç¤¾åŒºç‰ˆæœ¬**ï¼š
- âœ… å®Œå…¨å…è´¹ä½¿ç”¨
- âœ… å…è®¸å•†ä¸šç”¨é€”
- âœ… æºä»£ç å¼€æ”¾
- âœ… 24ä¸ªä¼˜åŒ–æ¨¡å—å®Œæ•´åŠŸèƒ½
- âœ… 65ç§ç”Ÿç‰©å…¨è¦†ç›–
- âœ… é•¿æœŸç»´æŠ¤æ›´æ–°

æ ¹æ®GPL-3.0åè®®ï¼š
- âœ… å¯è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹ã€åˆ†å‘
- âœ… å¯ç”¨äºå•†ä¸šæœåŠ¡å™¨
- âš ï¸ ä¿®æ”¹åçš„ç‰ˆæœ¬å¿…é¡»åŒæ ·å¼€æºï¼ˆGPL-3.0ï¼‰
- âš ï¸ å¿…é¡»ä¿ç•™åŸä½œè€…ç‰ˆæƒå£°æ˜

---

## ğŸ¤ å‚è€ƒä¸è‡´è°¢

æœ¬é¡¹ç›®å‚è€ƒäº†ä»¥ä¸‹ä¼˜ç§€å¼€æºé¡¹ç›®ï¼š

| é¡¹ç›® | è´¡çŒ® |
|------|------|
| [Starlight](https://github.com/PaperMC/Starlight) / [ScalableLux](https://github.com/RelativityMC/ScalableLux) | å…‰ç…§ä¼ æ’­ç®—æ³• |
| [Lithium](https://github.com/CaffeineMC/lithium) | æ€§èƒ½ä¼˜åŒ–æ€è·¯ |
| [ServerCore](https://github.com/Wesley1808/ServerCore) | çƒ­ç‚¹ä¼˜åŒ–æ–¹æ¡ˆ |
| [FerriteCore](https://github.com/malte0811/FerriteCore) | å†…å­˜ä¼˜åŒ–ç­–ç•¥ |
| [Async](https://github.com/AxalotLDev/Async) | å¼‚æ­¥åŒ–è¾¹ç•Œè®¾è®¡ |
| [Leaves](https://github.com/LeavesMC/Leaves) | Mixinæ”¯æŒ |

---

## âš ï¸ å…è´£å£°æ˜

- æœ¬æ’ä»¶é€šè¿‡Mixinä¿®æ”¹æœåŠ¡ç«¯æ ¸å¿ƒä»£ç ï¼Œ**è¯·å…ˆåœ¨æµ‹è¯•æœåŠ¡å™¨éªŒè¯**
- ä¸ä¿è¯ä¸æ‰€æœ‰æ’ä»¶100%å…¼å®¹
- å¦‚é‡é—®é¢˜è¯·æäº¤ [Issue](https://github.com/virgil698/Aki-Async/issues)

---

<div align="center">

### ğŸ“® è”ç³»æ–¹å¼

ğŸ’¬ **Issues**: [GitHub Issues](https://github.com/virgil698/Aki-Async/issues)  
ğŸ“§ **Email**: virgil698@sky233.top  
ğŸ’¬ **Discord**: xiaokou23357(virgil698)

---

**Edition**: Communityï¼ˆç¤¾åŒºç‰ˆï¼‰ | **Version**: 2.0.0 | **License**: GPL-3.0 | **Author**: [Virgil](https://github.com/virgil698)

**å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œè¯·ç»™ä¸ª â­ Star æ”¯æŒå¼€å‘ï¼**

Made with â¤ï¸ for Minecraft Server Optimization

</div>
